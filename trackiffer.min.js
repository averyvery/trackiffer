(function(){function f(){}function g(){i()}function h(){if(c){var a=Array.prototype.slice.call(arguments);a.unshift("---"),console&&console.log&&console.log.apply(console,a)}}function i(){window.jQuery||l("http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"),j()}function j(){var a=window.jQuery&&jQuery.fn.jquery;h("jQuery version: "+a),a=a.split(".").join(""),parseInt(a)>160?k():setTimeout(j,100)}function k(){h("jQuery has loaded!"),d=!0,f()}function l(a){h("Script not detected. Loading "+a);var b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.type="text/javascript",b.src=a,c.parentNode.insertBefore(b,c)}function m(a){if(d)for(selector in a)jQuery(selector).each(function(){t(a[selector],$(this))});else h("Delaying bind until jQuery loads..."),f=function(){m(a)}}function n(a,b){return a=p(a,b),h("TRACKING!",a),a.unshift("_trackEvent"),a}function o(a,b){if(a){switch(a[0]){case"#VALUE#":replacement=b.val();break;case"#TEXT#":replacement=b.text();break;default:attribute=a[0].replace(/\#/g,"").toLowerCase(),replacement=b.attr(attribute)}return replacement}}function p(a,b){for(var c=0,d=a.length;c<d;c++){var e=a[c];if(typeof e=="function")e=e(b);else{var f=/#.+?#/,g=e.match(f),h,i;i=o(g,b),i&&(e=e.replace(f,i))}a[c]=e}return a}function q(a,b,d){a.preventDefault(),a.stopImmediatePropagation();var e=function(){h("Firing delayed action!"),c!==!0&&d.trigger(a)};d.unbind(a+".trackiffer"),setTimeout(e,100)}function r(a){var b="click";for(var c in e)a.is(c)&&(b=e[c]);return b}function s(a){var b=!1,c=a.attr("href")||a.attr("action")||"",d=location.host!==""||"localhost",b=c.indexOf(d)==-1&&c.match(/^http/i);return!!b}function t(a,b){var d=r(b),e=function(e){var f=n(a.slice(0),b),g=s(b);_gaq.push(f);if(g)h("Delaying outbound action..."),e.stopImmediatePropagation(),q(e,d,b);else if(c)return!1};b.bind(d+".trackiffer",e)}var a={},b=.1,c=!1,d=!1,e={form:"submit",select:"change","input[type=text]":"blur"};a.debug=function(){c=!0,h("Trackiffer entering debug mode."),h("Tracked links WILL NOT WORK and WILL NOT TRACK while in debug mode."),_gat=undefined,_gaq=[["_setAccount","UA-11111111-1"]],l("http://www.google-analytics.com/u/ga_debug.js")},a.version=function(){return b},window.trackiffer=function(b){typeof b=="object"?m(b):a[b]()},g()})()
