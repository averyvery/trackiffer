<!doctype html>
<html>
	<head>
		<title>Trackiffer - Easy GA Event tracking</title>
		<style type="text/css">
			body {
				color: #555;
				font-family: sans-serif;
				font-size: 16px;
				line-height: 1.5;
				margin: 60px 80px;
			}
			.row {
				overflow: hidden;
			}
			.section {
				border-bottom: 1px solid #eee;
				padding: 15px 20px 40px;	
			}
			input {
				width: 300px;
			}
		</style>

	</head>
	<body title="Trackiffer's Body">
	
		<div class="section">
			<h2>Bookmarklet</h2>
			<p>Want to test trackiffer out on a page? Drag this link to your toolbar: <a href="javascript:(function(){document.body.appendChild(document.createElement('script')).src='https://raw.github.com/averyvery/trackiffer/master/trackiffer.js';})();setTimeout(function(){trackiffer('debug')}, 1000);">Trackiffer</a></p>
		</div>

		<div class="section">
			<h2>Debug</h2>
			<p>To see the debugger in action, <a href="#" id="debug">click here.</a> or visit <a href="#trackiffer_debug">index.html/#trackiffer_debug</a> and refresh the page.</p>
		</div>

		<div class="simple">
			<div class="section">
				<h3>Internal Links &amp; Forms</h3>
				<p>
					<a class="text" href="/">Link 1 Text</a>
					<a class="title" title="Link 2 Title" href="/">Link 2 Text</a>
					<a class="twomatches" title="Link 3 Title" href="/">Link 3 Text</a>
				</p>
				<form action="/" class="simple" method="get">
					<button type="submit">Submit</button>
				</form>
			</div>
			<div class="section">
				<h3>External Links &amp; Forms</h3>
				<p>
					<a class="text" href="http://example.com">Link 1 Text</a>
					<a class="title" title="Link 2 Title" href="http://example.com">Link 2 Text</a>
					<a class="retweet" href="http://www.twitter.com/retweet/">Retweet</a>
				</p>
				<form action="http://example.com" class="simple" method="get">
					<button type="submit">Submit</button>
				</form>
			</div>
			<div class="section">
				<h3>Form Elements</h3>
				<p>
					<input type="text" class="simple" value="Text input" />
				</p>
				<p>
					<select class="select" name="Select Name">
						<option value="Select Option One">Select Option One</option>
						<option value="Select Option Two">Select Option Two</option>
						<option value="Select Option Three">Select Option Three</option>
					</select>
					<select class="gender" name="Select Gender">
						<option value="Female">Female</option>
						<option value="Male">Male</option>
						<option value="Whatever">Whatever</option>
					</select>
				</p>
			</div>
		</div>

		<div class="advanced">
			<div class="section">
				<h3>Advanced Tracking</h3>
				<p>
					<a href="http://example.com/" class="b-text">
						Visit Our <b>Blog</b>
					</a>
				</p>
				<p>
					<input type="text" placeholder="Round a number before tracking" />
				</p>
				<p>
					<a href="http://example2.com/track/" class="url-parse">example.com/track</a>
				</p>
				<p>
					<a href="http://subdomain.example2.com/track/" class="url-parse">subdomain.example.com/track</a>
				</p>
				<p>
					<a href="http://example2.com/no-track/" class="url-parse">example.com/no-track</a>
				</p>
			</div>
		</div>

		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>
		<script type="text/javascript" src="http://www.google-analytics.com/u/ga_debug.js"></script>
		<script type="text/javascript" src="trackiffer.js"></script>
		<!--
		<script type="text/javascript" src="trackiffer.min.js"></script>
		-->
		<script type="text/javascript">

			_gaq.push(['_setAccount', 'UA-111111111-1']);

			trackiffer({
				'.simple a.text'           : ['_trackEvent', 'Link', 'Click', '{{text}}'],
				'.simple a.title'          : ['_trackEvent', 'Link', 'Click', '{{title}}'],
				'.simple a.twomatches'     : ['_trackEvent', 'Select', 'Form Element', '{{title}} and {{text}}', 40],
				'.simple form'             : ['_trackEvent', 'Form', 'Submit', 'Email Signup'],
				'.simple select.select'    : ['_trackEvent', 'Select', '{{name}}', '{{value}}'],
				'.simple input[type=text]' : ['_trackEvent', 'Input', 'Type', '{{value}}']
			});

			trackiffer({
				'.advanced a.b-text'       : ['_trackEvent', 'Advanced Link', 'Click', function(N){ return N.find('b').text(); }],
				'.advanced input'          : ['_trackEvent', 'Advanced Input', 'Type', 'Rounded Up To Hundred', function(N){ return Math.ceil(parseInt(N.val(), 10)/100) * 100; }],
				'.advanced a[href*="example2.com"]:not([href*="example2.com/no-track"])' : 
					['_trackEvent', 'Advanced Link', 'Click', '{{href}}']
			});

			trackiffer({
				'.retweet' : ['_trackSocial', 'Twitter', 'Retweet', '{{href}}', window.location.href]
			});

			trackiffer({
				'select.gender' : ['_setCustomVar', 1, 'Gender', '{{value}}', 2]
			});

			jQuery('#debug').click(function(event){
				event.preventDefault();
				trackiffer('debug');
			});

		</script>

	</body>
</html>
